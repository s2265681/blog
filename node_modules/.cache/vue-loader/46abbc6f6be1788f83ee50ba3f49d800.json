{"remainingRequest":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shangjiawei/Desktop/my all/node/blog_h5/src/pages/admin.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/src/pages/admin.vue","mtime":1557991275159},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.title{\n  margin-bottom: 3rem;\n}\n.searchBlog{\n   display: flex;\n   font-size: .3rem;\n   padding-left: 0.2rem;\n   flex-direction: column;\n}\n .searchBlog span{\n   margin-bottom: .1rem;\n }\n  .searchBlog .clickSearch{\n   width: 1.2rem;\n   margin-top: .2rem;\n }\n",{"version":3,"sources":["admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n<div>\n   <div class=\"title1\" style=\"font-size: .5rem ;\">博客管理</div>\n   <div class=\"searchBlog\">\n       <span >搜索博客:</span> <el-input placeholder=\"作者名\" style=\"width:5.2rem\" v-model.number=\"keysword\" prefix-icon=\"search\" clearable></el-input>\n   </div>\n   <div class=\"btn\">\n     <el-button size='mini' @click=\"clickSearch\" type=\"primary\" class=\"clickSearch\" style=\"width:2.3rem\" >搜索</el-button>\n      <el-button size='mini' @click=\"toAddBlog\" type=\"primary\" class=\"clickSearch\" style=\"width:2.3rem\" >新增博客</el-button>\n   </div>\n  <el-table\n    :data=\"tableData.data\"\n    style=\"width: 100% ; margin-top: 1rem\">\n    <el-table-column\n      label=\"日期\"\n      width=\"180\">\n      <template slot-scope=\"scope\">\n        <i class=\"el-icon-time\"></i>\n        <span style=\"margin-left: 10px\">\n          {{$moment(scope.row.createtime).format('YYYY-MM-DD')}}\n        </span>\n      </template>\n    </el-table-column>\n    <!-- <el-table-column\n      label=\"序号\"\n      width=\"180\">\n      <template slot-scope=\"scope\">\n          <p>{{ scope.row.id }}</p>\n      </template>\n    </el-table-column> -->\n     <el-table-column\n      label=\"标题\"\n      width=\"180\">\n      <template slot-scope=\"scope\">\n          <p>{{ scope.row.title }}</p>\n      </template>\n    </el-table-column>\n      <el-table-column\n      label=\"作者\"\n      width=\"180\">\n      <template slot-scope=\"scope\">\n          <p>{{ scope.row.author }}</p>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" width=\"180\" >\n      <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n        <el-button\n          size=\"mini\"\n          type=\"danger\"\n          @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n  </div>\n</template>\n\n<script>\nimport {  getBlogList , delBlogList , searchBlogList } from './../service/getData'\n\n  export default {\n    data() {\n      return {\n        tableData: [],\n        keysword:'',\n      }\n    },\n    mounted(){\n      this.getList()\n    },\n    methods: {\n      async getList(){\n        this.tableData =   await getBlogList()\n      },\n      toAddBlog(){\n         this.$router.push(`/add`)\n      },\n      handleEdit(index, row) {\n        const id = row.id ;\n        this.$router.push(`/edit?id=${id}`)\n\n      },\n       async handleDelete(index, row) {\n          const id = row.id ;\n          if (confirm('确定删除？')) {\n            // let author = 'zhangsan'\n          const result = await delBlogList(id)\n             if(result.errno===-1){\n                  this.$message({\n                    message: result.message,\n                    type:'error'\n                  });\n                    this.$router.push(`/login`)\n             }else{\n                 this.$message({\n                            message:'删除成功',\n                            type:'success'\n                          });\n                     this.tableData =  await getBlogList()\n             }\n          }\n      },\n      // 搜素\n      async clickSearch(){\n          this.tableData = await searchBlogList(this.keysword)\n      }\n    }\n  }\n</script>\n<style>\n .title{\n   margin-bottom: 3rem;\n }\n .searchBlog{\n    display: flex;\n    font-size: .3rem;\n    padding-left: 0.2rem;\n    flex-direction: column;\n }\n  .searchBlog span{\n    margin-bottom: .1rem;\n  }\n   .searchBlog .clickSearch{\n    width: 1.2rem;\n    margin-top: .2rem;\n  }\n</style>\n"]}]}