{"remainingRequest":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/thread-loader/dist/cjs.js!/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/babel-loader/lib/index.js!/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shangjiawei/Desktop/my all/node/blog_h5/src/pages/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/src/pages/login.vue","mtime":1560912114690},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/cache-loader/dist/cjs.js","mtime":1557892098038},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/thread-loader/dist/cjs.js","mtime":1557892098371},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/babel-loader/lib/index.js","mtime":1557892095867},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/cache-loader/dist/cjs.js","mtime":1557892098038},{"path":"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/vue-loader/lib/index.js","mtime":1557892098561}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/shangjiawei/Desktop/my all/node/blog_h5/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { accountLogin } from \"./../service/getData\";\nexport default {\n  name: \"login\",\n  data: function data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      showAlert: false,\n      userInfo: \"\"\n    };\n  },\n  mounted: function mounted() {// https%3A%2F%2Fwww.rockshang.cn%2F%23%2Flogin\n    // https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxbe670ef0710c928a&redirect_uri=https%3A%2F%2Fwww.rockshang.cn%2F%23%2Flogin&response_type=code&scope=snsapi_base#wechat_redirect\n  },\n  methods: {\n    //发送登录信息\n    submitForm: function () {\n      var _submitForm = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.loginForm.username) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                if (this.loginForm.password) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                _context.next = 8;\n                return accountLogin(this.loginForm.username, this.loginForm.password);\n\n              case 8:\n                this.userInfo = _context.sent;\n\n                if (this.userInfo.errno === -1) {\n                  this.$message({\n                    message: this.userInfo.message,\n                    type: \"error\"\n                  });\n                } else {\n                  this.$message({\n                    message: this.userInfo.message,\n                    type: \"success\"\n                  });\n                  this.$router.push(\"/index\");\n                } // await getBlogList()\n\n\n                _context.next = 12;\n                return accountLogin(this.loginForm.username, this.loginForm.password);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submitForm() {\n        return _submitForm.apply(this, arguments);\n      }\n\n      return submitForm;\n    }(),\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    toRegiter: function toRegiter() {\n      console.log(\"33\");\n      this.$router.push(\"./register\");\n    },\n    wxLogin: function wxLogin() {\n      window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxbe670ef0710c928a&redirect_uri=https%3A%2F%2Fblog.rockshang.cn%2F%23%2Findex&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect';\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,SAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAZA,qBAYA,CACA;AACA;AAEA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGA,KAAA,SAAA,CAAA,QAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBAKA,KAAA,SAAA,CAAA,QALA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,uBASA,YAAA,CACA,KAAA,SAAA,CAAA,QADA,EAEA,KAAA,SAAA,CAAA,QAFA,CATA;;AAAA;AASA,qBAAA,QATA;;AAaA,oBAAA,KAAA,QAAA,CAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,uBAAA,QAAA,CAAA;AACA,oBAAA,OAAA,EAAA,KAAA,QAAA,CAAA,OADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA,iBALA,MAKA;AACA,uBAAA,QAAA,CAAA;AACA,oBAAA,OAAA,EAAA,KAAA,QAAA,CAAA,OADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA,uBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,iBAxBA,CA0BA;;;AA1BA;AAAA,uBA2BA,YAAA,CAAA,KAAA,SAAA,CAAA,QAAA,EAAA,KAAA,SAAA,CAAA,QAAA,CA3BA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA6BA,IAAA,SA7BA,qBA6BA,QA7BA,EA6BA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA,KA/BA;AAgCA,IAAA,SAhCA,uBAgCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,YAAA;AACA,KAnCA;AAoCA,IAAA,OApCA,qBAoCA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,8MAAA;AAEA;AAvCA;AAjBA,CAAA","sourcesContent":["\n<template>\n  <div class=\"login\">\n    <img src=\"https://blog.rockshang.cn/sea.jpg\" class=\"header\" alt>\n    <span class=\"logintxt\">\n      <span @click=\"toRegiter\">注册</span>|\n      <span @click=\"wxLogin\">微信登录</span>\n    </span>\n    <div class=\"title\">登录</div>\n    \n    <div class=\"loginForm\">\n      <el-form :model=\"loginForm\" ref=\"loginForm\" label-width=\"100px\">\n        <el-form-item\n          label=\"用户名\"\n          prop=\"username\"\n          style=\"color:#000\"\n          :rules=\"[\n                { required: true, message: '用户名不能为空'}\n              ]\"\n          size=\"mini\"\n        >\n          <el-col :span=\"20\">\n            <el-input type=\"username\" v-model.number=\"loginForm.username\" auto-complete=\"off\"></el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item\n          label=\"密码\"\n          prop=\"password\"\n          style=\"color:#000\"\n          :rules=\"[\n                { required: true, message: '密码不能为空'}\n              ]\"\n          size=\"mini\"\n        >\n          <el-col :span=\"20\">\n            <el-input type=\"password\" v-model.number=\"loginForm.password\" auto-complete=\"off\"></el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('loginForm')\" size=\"mini\">提交</el-button>\n          <el-button @click=\"resetForm('loginForm')\" size=\"mini\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- <alert-tip v-if=\"true\" :showHide=\"showAlert\" :alertText=\"1111\"></alert-tip> -->\n  </div>\n</template>\n<script>\nimport { accountLogin } from \"./../service/getData\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      showAlert: false,\n      userInfo: \"\"\n    };\n  },\n    mounted(){\n    // https%3A%2F%2Fwww.rockshang.cn%2F%23%2Flogin\n    // https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxbe670ef0710c928a&redirect_uri=https%3A%2F%2Fwww.rockshang.cn%2F%23%2Flogin&response_type=code&scope=snsapi_base#wechat_redirect\n     \n  },\n  methods: {\n    //发送登录信息\n    async submitForm() {\n      if (!this.loginForm.username) {\n        return;\n      } else if (!this.loginForm.password) {\n        return;\n      }\n      //用户名登录\n      this.userInfo = await accountLogin(\n        this.loginForm.username,\n        this.loginForm.password\n      );\n      if (this.userInfo.errno === -1) {\n        this.$message({\n          message: this.userInfo.message,\n          type: \"error\"\n        });\n      } else {\n        this.$message({\n          message: this.userInfo.message,\n          type: \"success\"\n        });\n        this.$router.push(\"/index\");\n      }\n\n      // await getBlogList()\n      await accountLogin(this.loginForm.username, this.loginForm.password);\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    toRegiter() {\n      console.log(\"33\");\n      this.$router.push(\"./register\");\n    },\n    wxLogin(){\n    window.location.href='https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxbe670ef0710c928a&redirect_uri=https%3A%2F%2Fblog.rockshang.cn%2F%23%2Findex&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect'\n\n    }\n  }\n};\n</script>\n<style scoped>\n.title {\n   position: fixed;\n  width: 100%;\n  text-align: center;\n  font-size: 0.6rem;\n  color: #5d2f2f;\n  top: 0.25rem;\n}\n\n.header {\n  background-color: #55547be0;\n  width: \"100%\";\n}\n.login {\n  background-color: hsla(242, 19%, 41%, 0.878);\n  height: 100vh;\n}\n.loginForm .el-form-item__label {\n  color: #333;\n}\n\n.logintxt {\n  position: fixed;\n  right: 0.3rem;\n  font-size: 0.35rem;\n  color: #9e3519;\n  top: 0.1rem;\n  z-index: 1;\n}\n</style>"],"sourceRoot":"src/pages"}]}